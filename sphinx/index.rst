Документация проекта по CI/CD
==============================

Этот сайт документации автоматически генерируется с помощью Sphinx
и обновляется через CI/CD (GitHub Actions).

Содержание:
----------

.. contents::
   :local:

1. Введение
----------

Проект является учебным и предназначен для демонстрации настройки CI/CD:

- хранение исходного кода и тестов в Git;
- запуск тестов при каждом коммите и pull request;
- работа с ветками ``main``, ``development`` и ``release``;
- выпуск версии с помощью тегов;
- автоматическая генерация документации.

2. Структура репозитория
------------------------

- ``src/`` — исходный код.
- ``tests/`` — простые тесты (например, для функции безопасного деления).
- ``data.txt`` — входные данные.
- ``.github/workflows/main.yml`` — конфигурация GitHub Actions.
- ``docs/`` — сюда Sphinx будет генерировать HTML-документацию.
- ``sphinx/`` — исходники документации Sphinx (этот файл и конфиг).
- ``VERSION`` — файл с номером релиза.

3. CI/CD и GitHub Actions
-------------------------

Workflow ``CI/CD`` настроен так, чтобы:

- запускаться при ``push`` в ветки ``main``, ``development`` и ``release/*``,
  а также при ``pull_request`` в ``main``;
- устанавливать Python и зависимости;
- запускать тесты с помощью ``pytest``;
- собирать документацию Sphinx и коммитить изменения в папке ``docs/``
  обратно в репозиторий.

4. Ветвление и релизы
---------------------

Используются ветки:

- ``main`` — основная стабильная ветка;
- ``development`` — ветка для разработки;
- ``release/v1.0.0`` — ветка для подготовки релиза.

Теги вида ``v1.0.0`` используются для обозначения выпущенных версий.

5. Автоматическая документация
------------------------------

При каждом коммите:

- GitHub Actions запускает сборку;
- тесты выполняются автоматически;
- Sphinx генерирует HTML-документацию в папку ``docs/``;
- если в документации есть изменения, CI делает коммит от имени бота
  и отправляет их в репозиторий.

Таким образом, документация всегда соответствует текущему состоянию кода.
